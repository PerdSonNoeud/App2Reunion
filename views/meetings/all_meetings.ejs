<%- include('../partials/header') %>

<div class="meetings-container">
    <h1>Mes réunions</h1>
    
    <% if (meetings && meetings.length > 0) { %>
        <table class="meetings-table">
            <thead>
                <tr>
                    <th>Titre</th>
                    <th>Date</th>
                    <th>Heure</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <% meetings.forEach(meeting => { %>
                    <tr>
                        <td><%= meeting.title %></td>
                        <td><%= new Date(meeting.start_time).toLocaleDateString() %></td>
                        <td><%= new Date(meeting.start_time).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}) %></td>
                        <td>
                            <a href="/meetings/<%= meeting.id %>" class="btn-detail">Détails</a>
                        </td>
                    </tr>
                <% }) %>
            </tbody>
        </table>
    <% } else { %>
        <p class="no-meetings">Vous n'avez pas encore créé de réunion.</p>
        <div class="cta-container">
            <a href="/new_meeting" class="btn-primary">Créer ma première réunion</a>
        </div>
    <% } %>
</div>

<%- include('../partials/footer') %>